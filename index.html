<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>kirago杂谈</title><meta name="author" content="kirago"><meta name="copyright" content="kirago"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="勿以浮沙筑高台">
<meta property="og:type" content="website">
<meta property="og:title" content="kirago杂谈">
<meta property="og:url" content="http://kiragoo.github.com/index.html">
<meta property="og:site_name" content="kirago杂谈">
<meta property="og:description" content="勿以浮沙筑高台">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://tva1.sinaimg.cn/large/7a56748fly1gpf04wkr1wj20qs13wabo.jpg">
<meta property="article:author" content="kirago">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://tva1.sinaimg.cn/large/7a56748fly1gpf04wkr1wj20qs13wabo.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://kiragoo.github.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-04-15 19:36:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="kirago杂谈" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="http://tva1.sinaimg.cn/large/7a56748fly1gpf04wkr1wj20qs13wabo.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('http://tva4.sinaimg.cn/wap800/7a56748fgy1gpf0fb6s0ej22l51xu4d3.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">kirago杂谈</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书籍</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">kirago杂谈</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/kiragoo" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangl910201@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/14/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8BInformer%E6%9C%BA%E5%88%B6%E5%88%9D%E6%8E%A2-1/" title="kubernetes源码分析系列之Informer机制初探-1">     <img class="post_bg" src="http://tvax4.sinaimg.cn/wap800/7a56748fly1gpgxoc1i2aj22kc1e2tl9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes源码分析系列之Informer机制初探-1"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/14/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8BInformer%E6%9C%BA%E5%88%B6%E5%88%9D%E6%8E%A2-1/" title="kubernetes源码分析系列之Informer机制初探-1">kubernetes源码分析系列之Informer机制初探-1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-14T03:41:49.000Z" title="发表于 2021-04-14 11:41:49">2021-04-14</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/kubernetes/Informer/">Informer</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/kubernetes/Informer/client-go/">client-go</a></span></div><div class="content">此篇虽然为Informer机制，实际上还是和上篇kubernetes源码分析系列之kube-scheduler-2有很大关系的，可以说也是kube-scheduler调度的驱动事件。
在整理的时候由于整个调用之间还是有很多细节的，首先还是先放上流程组织关系图，有个大概的认知。Informer流程图对应的高清大图已经上传到本人仓库
发生Pod调度分配资源，必然是存在一个事件触发调度，那么Informer就是充当这样的角色。具体代码入口cmd/kube-scheduler/app/server.go:
1234567   &#x2F;&#x2F; 通过 &#96;goroutine&#96; 开始了所有的&#96;informers&#96;&#x2F;&#x2F; Start all informers.go cc.PodInformer.Informer().Run(ctx.Done())cc.InformerFactory.Start(ctx.Done())&#x2F;&#x2F; Wait for all caches to sync before scheduling.cc.In ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/12/LeetCode%E4%B9%8B%E6%9C%80%E5%A4%A7%E6%95%B0/" title="LeetCode之最大数">     <img class="post_bg" src="http://tva3.sinaimg.cn/wap800/7a56748fgy1gphahet6udj210g0yon05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LeetCode之最大数"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/12/LeetCode%E4%B9%8B%E6%9C%80%E5%A4%A7%E6%95%B0/" title="LeetCode之最大数">LeetCode之最大数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-12T13:35:49.000Z" title="发表于 2021-04-12 21:35:49">2021-04-12</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A8%8B/%E7%AE%97%E6%B3%95/">算法</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A8%8B/%E7%AE%97%E6%B3%95/leetcode/">leetcode</a></span></div><div class="content">题目描述：给定一组非负整数 nums，重新排列每个数的顺序（每个数不可拆分）使之组成一个最大的整数。
注意：输出结果可能非常大，所以你需要返回一个字符串而不是整数。链接
leetcode每日一题代码如下:
12345678910111213141516171819202122class Solution &#123;    private class  LargerNumberComparator implements Comparator&lt;String&gt; &#123;        @Override        public int compare(String a, String b) &#123;            String order1 &#x3D; a + b;            String order2 &#x3D; b + a;           return order2.compareTo(order1);        &#125;    &#125;    public String largestNumber(int[] nums ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/12/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8Bkube-scheduler-2/" title="kubernetes源码分析系列之kube-scheduler-2">     <img class="post_bg" src="http://tvax4.sinaimg.cn/wap800/7a56748fly1gpgxoc1i2aj22kc1e2tl9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes源码分析系列之kube-scheduler-2"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/12/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8Bkube-scheduler-2/" title="kubernetes源码分析系列之kube-scheduler-2">kubernetes源码分析系列之kube-scheduler-2</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-12T08:50:48.000Z" title="发表于 2021-04-12 16:50:48">2021-04-12</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/kubernetes/kube-scheduler/">kube-scheduler</a></span></div><div class="content">继上篇kubernetes源码分析系列之kube-scheduler-1 了解了大概的入口流程之后，此篇文章重点分析下 pkg/scheduler 包中的内容，scheduler初始化及运行流程分析。
在sig-scheduling 中可以了解到关于scheduler设计的目的。
首先我们面对的问题还是如何找到分析的入口，鉴于kubernetes源码分析系列之kube-scheduler-1 得知在 cmd/kube-scheduler/scheduler.go 中关于 scheduler 的创建在setUp函数中，其中有一段代码如下：
1234567891011121314&#x2F;&#x2F; Create the scheduler.sched, err :&#x3D; scheduler.New(cc.Client,	cc.InformerFactory,	cc.PodInformer,	recorderFactory,	ctx.Done(),	scheduler.WithProfiles(cc.ComponentConfig.Profiles...),	scheduler. ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/12/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8Bkube-scheduler-1/" title="kubernetes源码分析系列之kube-scheduler-1">     <img class="post_bg" src="http://tvax4.sinaimg.cn/wap800/7a56748fly1gpgxoc1i2aj22kc1e2tl9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes源码分析系列之kube-scheduler-1"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/12/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8Bkube-scheduler-1/" title="kubernetes源码分析系列之kube-scheduler-1">kubernetes源码分析系列之kube-scheduler-1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-12T06:12:00.000Z" title="发表于 2021-04-12 14:12:00">2021-04-12</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kubernetes/">kubernetes</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/kubernetes/kube-scheduler/">kube-scheduler</a></span></div><div class="content">kube-scheduler 源码分析系列重点作为代码流程梳理，对于 kube-scheduler 的文档还请详见kube-scheduler介绍。
如下代码分析对于细节的处理会跳过，只看主干
代码入口分析kubernetes/cmd/kube-scheduler/app/scheduler.go:
12345678910111213141516171819func main() &#123;	rand.Seed(time.Now().UnixNano())    &#x2F;&#x2F; @1	command :&#x3D; app.NewSchedulerCommand()	&#x2F;&#x2F; TODO: once we switch everything over to Cobra commands, we can go back to calling	&#x2F;&#x2F; utilflag.InitFlags() (by removing its pflag.Parse() call). For now, we have to set the	&#x2F;&#x2F; ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/11/7%E5%A4%A9%E7%94%A8go%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0%E7%B3%BB%E5%88%97%E4%B9%8Bweb%E6%A1%86%E6%9E%B6Day1/" title="7天用go从零实现系列之web框架Day1">     <img class="post_bg" src="http://tva3.sinaimg.cn/wap800/7a56748fgy1gpg7q2ta7dj22l01du7wi.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="7天用go从零实现系列之web框架Day1"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/11/7%E5%A4%A9%E7%94%A8go%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0%E7%B3%BB%E5%88%97%E4%B9%8Bweb%E6%A1%86%E6%9E%B6Day1/" title="7天用go从零实现系列之web框架Day1">7天用go从零实现系列之web框架Day1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-11T14:27:26.000Z" title="发表于 2021-04-11 22:27:26">2021-04-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/golang/">golang</a></span></div><div class="content">最近看到一些不错的博客系列文章，包括为@极客兔兔原创的7天从零系列的文章，此系列文章为个人阅读及个人描述记录。
其中序言部分主要描述的是一个web框架大概需要实现的内容，此处借鉴了Gin的设计思想。
启动Web服务使用 net/http 库，封装了http的网络编程的基础的接口。d1-http-v1/main.go
v1版本123456789101112131415161718192021222324252627package mainimport (	&quot;fmt&quot;	&quot;log&quot;	&quot;net&#x2F;http&quot;)func main() &#123;    &#x2F;&#x2F; 映射路由	http.HandleFunc(&quot;&#x2F;&quot;, indexHandler) 	http.HandleFunc(&quot;&#x2F;hello&quot;, helloHandler)    &#x2F;&#x2F; 启动 web 服务	log.Fatal(http.ListenAndServe(&quot;:9999 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/11/Mac%E4%B9%8B%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0k8s%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" title="Mac之搭建本地k8s开发环境">     <img class="post_bg" src="http://tvax3.sinaimg.cn/wap800/7a56748fgy1gpfkjnj7qij20d60d6q3a.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mac之搭建本地k8s开发环境"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/11/Mac%E4%B9%8B%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0k8s%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" title="Mac之搭建本地k8s开发环境">Mac之搭建本地k8s开发环境</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-11T01:50:53.000Z" title="发表于 2021-04-11 09:50:53">2021-04-11</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/k8s/">k8s</a></span></div><div class="content">Mac搭建本地k8s环境目前网上有N多的博客文章，无非就是minikube、docker-desktop、kubeadm去部署，对于我个人需求，由于后期需要对原生的 scheduler 进行自定义的扩展开发，我需要能够有机会改动静态POD的manifests文件进行改动与配置。
前期通过 minikube 及 docker-desktop 进行过本地k8s集群的部署，但是发现此种沙盒环境无法对静态POD进行配置改动，只能围着k8s做周边的应用测试，没法满足我的需求，最后决定通过kubeadm进行k8s本地环境部署。
所以最终选择： Virtualbox + Centos7 镜像进行单节点k8s部署【此环境只做组件部署及逻辑验证】
VirutalBox安装及Centos 虚拟机安装具体的介绍就不多介绍了，我选用的为 6.1.4 没有选用最新的版本，主要是担心出了问题可能没有最新及时的资料可以参考。
如何创建虚机就不多介绍了，但是以下注意点需要注意：

虚机CPU至少分配2核
虚机网络连接选择为bridge，之前选择的Nat模式无法获取本地ip，虽然能通外网。 此现象比较诡异

Kubea ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/10/leetcode%E4%B9%8B%E4%B8%91%E6%95%B0/" title="leetcode之丑数">     <img class="post_bg" src="http://tvax3.sinaimg.cn/large/7a56748fgy1gpf33mppc3j210q124q6n.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="leetcode之丑数"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/10/leetcode%E4%B9%8B%E4%B8%91%E6%95%B0/" title="leetcode之丑数">leetcode之丑数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-10T14:51:46.000Z" title="发表于 2021-04-10 22:51:46">2021-04-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A8%8B/">编程</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A8%8B/%E7%AE%97%E6%B3%95/">算法</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E7%A8%8B/%E7%AE%97%E6%B3%95/leetcode/">leetcode</a></span></div><div class="content">题目描述：给你一个整数 n ，请你判断 n 是否为 丑数 。如果是，返回 true ；否则，返回 false 。
丑数 就是只包含质因数 2、3 和/或 5 的正整数。
链接
leetcode每日一题之丑数代码如下
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&#x2F;&#x2F; Javaclass Solution &#123;    public boolean isUgly(int num) &#123;        if(num &#x3D;&#x3D; 0) return false;        while(num !&#x3D; 1)&#123;            if(num%2&#x3D;&#x3D;0)&#123;                num&#x2F;&#x3D;2;                continue;            &#125;            if(num%3&#x3D;&#x3 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/10/hello-world/" title="Hello World">     <img class="post_bg" src="http://tva4.sinaimg.cn/wap800/7a56748fgy1gpf0fb6s0ej22l51xu4d3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/10/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-10T13:23:43.398Z" title="发表于 2021-04-10 21:23:43">2021-04-10</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="http://tva1.sinaimg.cn/large/7a56748fly1gpf04wkr1wj20qs13wabo.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">kirago</div><div class="author-info__description">勿以浮沙筑高台</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">8</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/kiragoo" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangl910201@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">kirago杂谈小屋</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/04/14/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8BInformer%E6%9C%BA%E5%88%B6%E5%88%9D%E6%8E%A2-1/" title="kubernetes源码分析系列之Informer机制初探-1"><img src="http://tvax4.sinaimg.cn/wap800/7a56748fly1gpgxoc1i2aj22kc1e2tl9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes源码分析系列之Informer机制初探-1"/></a><div class="content"><a class="title" href="/2021/04/14/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8BInformer%E6%9C%BA%E5%88%B6%E5%88%9D%E6%8E%A2-1/" title="kubernetes源码分析系列之Informer机制初探-1">kubernetes源码分析系列之Informer机制初探-1</a><time datetime="2021-04-14T03:41:49.000Z" title="发表于 2021-04-14 11:41:49">2021-04-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/12/LeetCode%E4%B9%8B%E6%9C%80%E5%A4%A7%E6%95%B0/" title="LeetCode之最大数"><img src="http://tva3.sinaimg.cn/wap800/7a56748fgy1gphahet6udj210g0yon05.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LeetCode之最大数"/></a><div class="content"><a class="title" href="/2021/04/12/LeetCode%E4%B9%8B%E6%9C%80%E5%A4%A7%E6%95%B0/" title="LeetCode之最大数">LeetCode之最大数</a><time datetime="2021-04-12T13:35:49.000Z" title="发表于 2021-04-12 21:35:49">2021-04-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/12/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8Bkube-scheduler-2/" title="kubernetes源码分析系列之kube-scheduler-2"><img src="http://tvax4.sinaimg.cn/wap800/7a56748fly1gpgxoc1i2aj22kc1e2tl9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes源码分析系列之kube-scheduler-2"/></a><div class="content"><a class="title" href="/2021/04/12/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8Bkube-scheduler-2/" title="kubernetes源码分析系列之kube-scheduler-2">kubernetes源码分析系列之kube-scheduler-2</a><time datetime="2021-04-12T08:50:48.000Z" title="发表于 2021-04-12 16:50:48">2021-04-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/12/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8Bkube-scheduler-1/" title="kubernetes源码分析系列之kube-scheduler-1"><img src="http://tvax4.sinaimg.cn/wap800/7a56748fly1gpgxoc1i2aj22kc1e2tl9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kubernetes源码分析系列之kube-scheduler-1"/></a><div class="content"><a class="title" href="/2021/04/12/kubernetes%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8Bkube-scheduler-1/" title="kubernetes源码分析系列之kube-scheduler-1">kubernetes源码分析系列之kube-scheduler-1</a><time datetime="2021-04-12T06:12:00.000Z" title="发表于 2021-04-12 14:12:00">2021-04-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/11/7%E5%A4%A9%E7%94%A8go%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0%E7%B3%BB%E5%88%97%E4%B9%8Bweb%E6%A1%86%E6%9E%B6Day1/" title="7天用go从零实现系列之web框架Day1"><img src="http://tva3.sinaimg.cn/wap800/7a56748fgy1gpg7q2ta7dj22l01du7wi.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="7天用go从零实现系列之web框架Day1"/></a><div class="content"><a class="title" href="/2021/04/11/7%E5%A4%A9%E7%94%A8go%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0%E7%B3%BB%E5%88%97%E4%B9%8Bweb%E6%A1%86%E6%9E%B6Day1/" title="7天用go从零实现系列之web框架Day1">7天用go从零实现系列之web框架Day1</a><time datetime="2021-04-11T14:27:26.000Z" title="发表于 2021-04-11 22:27:26">2021-04-11</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/golang/"><span class="card-category-list-name">golang</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/k8s/"><span class="card-category-list-name">k8s</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/kubernetes/"><span class="card-category-list-name">kubernetes</span><span class="card-category-list-count">3</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/kubernetes/Informer/"><span class="card-category-list-name">Informer</span><span class="card-category-list-count">1</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/kubernetes/Informer/client-go/"><span class="card-category-list-name">client-go</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/kubernetes/kube-scheduler/"><span class="card-category-list-name">kube-scheduler</span><span class="card-category-list-count">2</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BC%96%E7%A8%8B/"><span class="card-category-list-name">编程</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BC%96%E7%A8%8B/%E7%AE%97%E6%B3%95/"><span class="card-category-list-name">算法</span><span class="card-category-list-count">2</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Informer/" style="font-size: 1.1em; color: #999">Informer</a> <a href="/tags/golang/" style="font-size: 1.3em; color: #99a1ac">golang</a> <a href="/tags/java/" style="font-size: 1.3em; color: #99a1ac">java</a> <a href="/tags/k8s/" style="font-size: 1.1em; color: #999">k8s</a> <a href="/tags/kube-scheduler/" style="font-size: 1.3em; color: #99a1ac">kube-scheduler</a> <a href="/tags/kubeadm/" style="font-size: 1.1em; color: #999">kubeadm</a> <a href="/tags/kubernetes/" style="font-size: 1.5em; color: #99a9bf">kubernetes</a> <a href="/tags/leetcode/" style="font-size: 1.3em; color: #99a1ac">leetcode</a> <a href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" style="font-size: 1.5em; color: #99a9bf">源码分析</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.3em; color: #99a1ac">算法</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">8</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-04-15T11:36:22.610Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By kirago</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>